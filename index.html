<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <title>レーダーチャート作成アプリ</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        canvas {
            max-width: 600px;
            margin: 30px auto;
            display: block;
        }
        .input-fields, .buttons, .task-field {
            text-align: center;
            margin-top: 20px;
        }
        .input-fields input {
            margin: 0 5px;
            padding: 5px;
            font-size: 16px;
        }
        #class, #number {
            width: 40px;
        }
        #name {
            width: 150px;
        }
        .input-fields span {
            font-size: 18px;
        }
        .task-field textarea {
            margin-top: 10px;
            padding: 10px;
            font-size: 16px;
            width: 80%;
            height: 100px;
        }
        .buttons button {
            margin: 5px;
            padding: 10px 15px;
            font-size: 16px;
        }
    </style>
</head>
<body>
    <div class="input-fields">
        <span>3年</span><input type="text" id="class" placeholder="" maxlength="2"><span>組</span><input type="text" id="number" placeholder="" maxlength="2"><span>番　</span>
        <span>氏名</span><input type="text" id="name" placeholder="" maxlength="10">
    </div>

    <div class="task-field">
        <p>【課】作成したキャラクター名を挙げ、その特性を文章で説明しなさい。また、そのキャラクターのビッグ・ファイブを作成しなさい。</p>
        <textarea id="characterDescription" placeholder="ここに記入してください"></textarea>
    </div>

    <canvas id="radarChart"></canvas>
    <div class="buttons" id="buttons"></div>

    <script>
        const labels = ['外向性', '神経症傾向', '開放性', '調和性', '誠実性'];
        const dataValues = Array(labels.length).fill(0);

        const ctx = document.getElementById('radarChart').getContext('2d');
        const radarChart = new Chart(ctx, {
            type: 'radar',
            data: {
                labels: labels,
                datasets: [{
                    label: '自分のチャート',
                    data: dataValues,
                    fill: true,
                    borderColor: 'rgb(75, 192, 192)',
                    backgroundColor: 'rgba(75, 192, 192, 0.2)',
                    pointBackgroundColor: 'rgb(75, 192, 192)'
                }]
            },
            options: {
                scales: {
                    r: {
                        min: 0,
                        max: 5,
                        ticks: {
                            stepSize: 1
                        }
                    }
                },
                plugins: {
                    legend: {
                        display: false
                    }
                }
            }
        });

        const buttonsDiv = document.getElementById('buttons');
        labels.forEach((label, index) => {
            const plusButton = document.createElement('button');
            plusButton.innerText = label + ' ＋1';
            plusButton.addEventListener('click', () => {
                if (dataValues[index] < 5) {
                    dataValues[index]++;
                    radarChart.update();
                }
            });

            const minusButton = document.createElement('button');
            minusButton.innerText = label + ' −1';
            minusButton.addEventListener('click', () => {
                if (dataValues[index] > 0) {
                    dataValues[index]--;
                    radarChart.update();
                }
            });

            buttonsDiv.appendChild(plusButton);
            buttonsDiv.appendChild(minusButton);
        });
    </script>
</body>
</html>
